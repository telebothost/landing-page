<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, interactive-widget=resizes-content">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<meta name="format-detection" content="telephone=no" />
<meta name="msapplication-tap-highlight" content="no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="author" content="TeleBotHost Team">
<meta name="robots" content="index, follow, max-image-preview:large">

<!-- SEO Meta Tags -->
<meta name="description" content="TBL Language Documentation – Learn everything about TeleBotHost Language (TBL) with detailed guides, examples, and best practices for bot development.">
<meta name="keywords" content="
Telegram bot hosting, free Telegram bot hosting, best Telegram bot hosting, secure Telegram bot server, scalable bot hosting, fast Telegram bot hosting, 24/7 Telegram bot uptime, automated Telegram bots, TeleBotHost, Tele-Bot-Host, TeleBotHaven, TelebotCreator, online Telegram bot hosting, Telegram bot deployment, cloud bot hosting, serverless Telegram bot hosting, PythonAnywhere Telegram bots, AWS Lambda Telegram bots, Oracle Cloud Telegram bots, HostArmada Telegram bot hosting, high-performance bot hosting, Telegram bot management, reliable bot servers, affordable Telegram bot hosting, top Telegram bot hosting 2025, free tier bot hosting, Telegram bot automation, Telegram bot server cost, Telegram bot hosting comparison, Telegram bot hosting tutorial, Telegram bot hosting guide, Telegram bot hosting platform review, host Telegram bots instantly, Telegram bot hosting solutions, Telegram bot hosting providers, Telegram bot hosting features, Telegram bot hosting for beginners, Telegram bot hosting experts, Telegram bot server performance, best free Telegram bot host, Telegram bot hosting tips, Telegram bot development, Telegram bot hosting reviews, Telegram bot cloud hosting, Telegram bot hosting fast server, Telegram bot hosting online, top free Telegram bot hosting, Telegram bot automation tools, Telegram bot platform, cheap Telegram bot servers, scalable Telegram hosting, high-speed bot hosting, Telegram bot server setup, Telegram bot hosting security, best hosting for Telegram bots, Telegram bot server management, Telegram bot hosting service, Telegram bot hosting site, top Telegram bot platforms, TBL Language, TeleBotHost, Telegram bots, bot development, TBL documentation, TBL tutorial, TeleBotHost guides, Telegram API, bot programming
">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:title" content="TBL Language Documentation | TeleBotHost">
<meta property="og:description" content="Learn everything about TBL Language for Telegram bots with examples, guides, and best practices from TeleBotHost.">
<meta property="og:url" content="https://telebothost.com/">
<meta property="og:image" content="https://telebothost.com/assets/images/docs.png">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="TBL Language Documentation | TeleBotHost">
<meta name="twitter:description" content="Comprehensive TBL Language Documentation for building powerful Telegram bots. Learn with examples, tutorials, and guides.">
<meta name="twitter:image" content="https://telebothost.com/assets/images/docs.png">

<title>TBL Language Documentation | TeleBotHost</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet"/>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2719295794573158" crossorigin="anonymous" defer></script>
  <!-- Highlight.js for syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script defer>hljs.highlightAll();</script>
  <link rel="stylesheet" href="style.css">
</head>
<script async src="https://fundingchoicesmessages.google.com/i/pub-2719295794573158?ers=1"></script><script>(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
<script>(function(){'use strict';function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function l(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
function ea(a){return a.raw=a}function n(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}function fa(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var ha=typeof Object.create=="function"?Object.create:function(a){function b(){}b.prototype=a;return new b},p;
if(typeof Object.setPrototypeOf=="function")p=Object.setPrototypeOf;else{var q;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;q=ka.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=p;
function t(a,b){a.prototype=ha(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if(c!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.A=b.prototype}function ma(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}l("Object.is",function(a){return a?a:function(b,c){return b===c?b!==0||1/b===1/c:b!==b&&c!==c}});
l("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
l("String.prototype.includes",function(a){return a?a:function(b,c){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(b,c||0)!==-1}});l("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
l("Number.isFinite",function(a){return a?a:function(b){return typeof b!=="number"?!1:!isNaN(b)&&b!==Infinity&&b!==-Infinity}});l("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}});l("Number.isSafeInteger",function(a){return a?a:function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER}});
l("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0)return b;var c=Math.floor(Math.abs(b));return b<0?-c:c}});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var u=this||self;function v(a,b){a:{var c=["CLOSURE_FLAGS"];for(var d=u,e=0;e<c.length;e++)if(d=d[c[e]],d==null){c=null;break a}c=d}a=c&&c[a];return a!=null?a:b}function w(a){return a};function na(a){u.setTimeout(function(){throw a;},0)};var oa=v(610401301,!1),pa=v(188588736,!0),qa=v(645172343,v(1,!0));var x,ra=u.navigator;x=ra?ra.userAgentData||null:null;function z(a){return oa?x?x.brands.some(function(b){return(b=b.brand)&&b.indexOf(a)!=-1}):!1:!1}function A(a){var b;a:{if(b=u.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function B(){return oa?!!x&&x.brands.length>0:!1}function C(){return B()?z("Chromium"):(A("Chrome")||A("CriOS"))&&!(B()?0:A("Edge"))||A("Silk")};var sa=B()?!1:A("Trident")||A("MSIE");!A("Android")||C();C();A("Safari")&&(C()||(B()?0:A("Coast"))||(B()?0:A("Opera"))||(B()?0:A("Edge"))||(B()?z("Microsoft Edge"):A("Edg/"))||B()&&z("Opera"));var ta={},D=null;var ua=typeof Uint8Array!=="undefined",va=!sa&&typeof btoa==="function";var wa;function E(){return typeof BigInt==="function"};var F=typeof Symbol==="function"&&typeof Symbol()==="symbol";function xa(a){return typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol():a}var G=xa(),ya=xa("2ex");var za=F?function(a,b){a[G]|=b}:function(a,b){a.g!==void 0?a.g|=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}})},H=F?function(a){return a[G]|0}:function(a){return a.g|0},I=F?function(a){return a[G]}:function(a){return a.g},J=F?function(a,b){a[G]=b}:function(a,b){a.g!==void 0?a.g=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}})};function Aa(a,b){J(b,(a|0)&-14591)}function Ba(a,b){J(b,(a|34)&-14557)};var K={},Ca={};function Da(a){return!(!a||typeof a!=="object"||a.g!==Ca)}function Ea(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function L(a,b,c){if(!Array.isArray(a)||a.length)return!1;var d=H(a);if(d&1)return!0;if(!(b&&(Array.isArray(b)?b.includes(c):b.has(c))))return!1;J(a,d|1);return!0};var M=0,N=0;function Fa(a){var b=a>>>0;M=b;N=(a-b)/4294967296>>>0}function Ga(a){if(a<0){Fa(-a);var b=n(Ha(M,N));a=b.next().value;b=b.next().value;M=a>>>0;N=b>>>0}else Fa(a)}function Ia(a,b){b>>>=0;a>>>=0;if(b<=2097151)var c=""+(4294967296*b+a);else E()?c=""+(BigInt(b)<<BigInt(32)|BigInt(a)):(c=(a>>>24|b<<8)&16777215,b=b>>16&65535,a=(a&16777215)+c*6777216+b*6710656,c+=b*8147497,b*=2,a>=1E7&&(c+=a/1E7>>>0,a%=1E7),c>=1E7&&(b+=c/1E7>>>0,c%=1E7),c=b+Ja(c)+Ja(a));return c}
function Ja(a){a=String(a);return"0000000".slice(a.length)+a}function Ha(a,b){b=~b;a?a=~a+1:b+=1;return[a,b]};var Ka=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;var O;function La(a,b){O=b;a=new a(b);O=void 0;return a}
function P(a,b,c){a==null&&(a=O);O=void 0;if(a==null){var d=96;c?(a=[c],d|=512):a=[];b&&(d=d&-16760833|(b&1023)<<14)}else{if(!Array.isArray(a))throw Error("narr");d=H(a);if(d&2048)throw Error("farr");if(d&64)return a;d|=64;if(c&&(d|=512,c!==a[0]))throw Error("mid");a:{c=a;var e=c.length;if(e){var f=e-1;if(Ea(c[f])){d|=256;b=f-(+!!(d&512)-1);if(b>=1024)throw Error("pvtlmt");d=d&-16760833|(b&1023)<<14;break a}}if(b){b=Math.max(b,e-(+!!(d&512)-1));if(b>1024)throw Error("spvt");d=d&-16760833|(b&1023)<<
14}}}J(a,d);return a};function Ma(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a)if(Array.isArray(a)){if(L(a,void 0,0))return}else if(ua&&a!=null&&a instanceof Uint8Array){if(va){for(var b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);a=btoa(b)}else{b===void 0&&(b=0);if(!D){D={};c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");d=["+/=",
"+/","-_=","-_.","-_"];for(var e=0;e<5;e++){var f=c.concat(d[e].split(""));ta[e]=f;for(var g=0;g<f.length;g++){var h=f[g];D[h]===void 0&&(D[h]=g)}}}b=ta[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var k=a[f],m=a[f+1];h=a[f+2];g=b[k>>2];k=b[(k&3)<<4|m>>4];m=b[(m&15)<<2|h>>6];h=b[h&63];c[e++]=g+k+m+h}g=0;h=d;switch(a.length-f){case 2:g=a[f+1],h=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=b[a>>2]+b[(a&3)<<4|g>>4]+h+d}a=c.join("")}return a}}return a};function Na(a,b,c){a=Array.prototype.slice.call(a);var d=a.length,e=b&256?a[d-1]:void 0;d+=e?-1:0;for(b=b&512?1:0;b<d;b++)a[b]=c(a[b]);if(e){b=a[b]={};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=c(e[f]))}return a}function Oa(a,b,c,d,e){if(a!=null){if(Array.isArray(a))a=L(a,void 0,0)?void 0:e&&H(a)&2?a:Pa(a,b,c,d!==void 0,e);else if(Ea(a)){var f={},g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&(f[g]=Oa(a[g],b,c,d,e));a=f}else a=b(a,d);return a}}
function Pa(a,b,c,d,e){var f=d||c?H(a):0;d=d?!!(f&32):void 0;a=Array.prototype.slice.call(a);for(var g=0;g<a.length;g++)a[g]=Oa(a[g],b,c,d,e);c&&c(f,a);return a}function Qa(a){return a.s===K?a.toJSON():Ma(a)};function Ra(a,b,c){c=c===void 0?Ba:c;if(a!=null){if(ua&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=H(a);if(d&2)return a;b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(J(a,(d|34)&-12293),a):Pa(a,Ra,d&4?Ba:c,!0,!0)}a.s===K&&(c=a.h,d=I(c),a=d&2?a:La(a.constructor,Sa(c,d,!0)));return a}}function Sa(a,b,c){var d=c||b&2?Ba:Aa,e=!!(b&32);a=Na(a,b,function(f){return Ra(f,e,d)});za(a,32|(c?2:0));return a};function Ta(a,b){a=a.h;return Ua(a,I(a),b)}function Va(a,b,c,d){b=d+(+!!(b&512)-1);if(!(b<0||b>=a.length||b>=c))return a[b]}
function Ua(a,b,c,d){if(c===-1)return null;var e=b>>14&1023||536870912;if(c>=e){if(b&256)return a[a.length-1][c]}else{var f=a.length;if(d&&b&256&&(d=a[f-1][c],d!=null)){if(Va(a,b,e,c)&&ya!=null){var g;a=(g=wa)!=null?g:wa={};g=a[ya]||0;g>=4||(a[ya]=g+1,g=Error(),g.__closure__error__context__984382||(g.__closure__error__context__984382={}),g.__closure__error__context__984382.severity="incident",na(g))}return d}return Va(a,b,e,c)}}
function Wa(a,b,c,d,e){var f=b>>14&1023||536870912;if(c>=f||e&&!qa){var g=b;if(b&256)e=a[a.length-1];else{if(d==null)return;e=a[f+(+!!(b&512)-1)]={};g|=256}e[c]=d;c<f&&(a[c+(+!!(b&512)-1)]=void 0);g!==b&&J(a,g)}else a[c+(+!!(b&512)-1)]=d,b&256&&(a=a[a.length-1],c in a&&delete a[c])}
function Xa(a,b){var c=Ya;var d=d===void 0?!1:d;var e=a.h;var f=I(e),g=Ua(e,f,b,d);if(g!=null&&typeof g==="object"&&g.s===K)c=g;else if(Array.isArray(g)){var h=H(g),k=h;k===0&&(k|=f&32);k|=f&2;k!==h&&J(g,k);c=new c(g)}else c=void 0;c!==g&&c!=null&&Wa(e,f,b,c,d);e=c;if(e==null)return e;a=a.h;f=I(a);f&2||(g=e,c=g.h,h=I(c),g=h&2?La(g.constructor,Sa(c,h,!1)):g,g!==e&&(e=g,Wa(a,f,b,e,d)));return e}function Za(a,b){a=Ta(a,b);return a==null||typeof a==="string"?a:void 0}
function $a(a,b){var c=c===void 0?0:c;a=Ta(a,b);if(a!=null)if(b=typeof a,b==="number"?Number.isFinite(a):b!=="string"?0:Ka.test(a))if(typeof a==="number"){if(a=Math.trunc(a),!Number.isSafeInteger(a)){Ga(a);b=M;var d=N;if(a=d&2147483648)b=~b+1>>>0,d=~d>>>0,b==0&&(d=d+1>>>0);b=d*4294967296+(b>>>0);a=a?-b:b}}else if(b=Math.trunc(Number(a)),Number.isSafeInteger(b))a=String(b);else{if(b=a.indexOf("."),b!==-1&&(a=a.substring(0,b)),!(a[0]==="-"?a.length<20||a.length===20&&Number(a.substring(0,7))>-922337:
a.length<19||a.length===19&&Number(a.substring(0,6))<922337)){if(a.length<16)Ga(Number(a));else if(E())a=BigInt(a),M=Number(a&BigInt(4294967295))>>>0,N=Number(a>>BigInt(32)&BigInt(4294967295));else{b=+(a[0]==="-");N=M=0;d=a.length;for(var e=b,f=(d-b)%6+b;f<=d;e=f,f+=6)e=Number(a.slice(e,f)),N*=1E6,M=M*1E6+e,M>=4294967296&&(N+=Math.trunc(M/4294967296),N>>>=0,M>>>=0);b&&(b=n(Ha(M,N)),a=b.next().value,b=b.next().value,M=a,N=b)}a=M;b=N;b&2147483648?E()?a=""+(BigInt(b|0)<<BigInt(32)|BigInt(a>>>0)):(b=
n(Ha(a,b)),a=b.next().value,b=b.next().value,a="-"+Ia(a,b)):a=Ia(a,b)}}else a=void 0;return a!=null?a:c}function R(a,b){var c=c===void 0?"":c;a=Za(a,b);return a!=null?a:c};var S;function T(a,b,c){this.h=P(a,b,c)}T.prototype.toJSON=function(){return ab(this)};T.prototype.s=K;T.prototype.toString=function(){try{return S=!0,ab(this).toString()}finally{S=!1}};
function ab(a){var b=S?a.h:Pa(a.h,Qa,void 0,void 0,!1);var c=!S;var d=pa?void 0:a.constructor.v;var e=I(c?a.h:b);if(a=b.length){var f=b[a-1],g=Ea(f);g?a--:f=void 0;e=+!!(e&512)-1;var h=b;if(g){b:{var k=f;var m={};g=!1;if(k)for(var r in k)if(Object.prototype.hasOwnProperty.call(k,r))if(isNaN(+r))m[r]=k[r];else{var y=k[r];Array.isArray(y)&&(L(y,d,+r)||Da(y)&&y.size===0)&&(y=null);y==null&&(g=!0);y!=null&&(m[r]=y)}if(g){for(var Q in m)break b;m=null}else m=k}k=m==null?f!=null:m!==f}for(var ia;a>0;a--){Q=
a-1;r=h[Q];Q-=e;if(!(r==null||L(r,d,Q)||Da(r)&&r.size===0))break;ia=!0}if(h!==b||k||ia){if(!c)h=Array.prototype.slice.call(h,0,a);else if(ia||k||m)h.length=a;m&&h.push(m)}b=h}return b};function bb(a){return function(b){if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("dnarr");za(b,32);b=La(a,b)}return b}};function cb(a){this.h=P(a)}t(cb,T);var db=bb(cb);var U;function V(a){this.g=a}V.prototype.toString=function(){return this.g+""};var eb={};function fb(a){if(U===void 0){var b=null;var c=u.trustedTypes;if(c&&c.createPolicy){try{b=c.createPolicy("goog#html",{createHTML:w,createScript:w,createScriptURL:w})}catch(d){u.console&&u.console.error(d.message)}U=b}else U=b}a=(b=U)?b.createScriptURL(a):a;return new V(a,eb)};/*

 SPDX-License-Identifier: Apache-2.0
*/
function gb(a){var b=ma.apply(1,arguments);if(b.length===0)return fb(a[0]);for(var c=a[0],d=0;d<b.length;d++)c+=encodeURIComponent(b[d])+a[d+1];return fb(c)};function hb(a,b){a.src=b instanceof V&&b.constructor===V?b.g:"type_error:TrustedResourceUrl";var c,d;(c=(b=(d=(c=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)==null?void 0:d.call(c,"script[nonce]"))?b.nonce||b.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",c)};function ib(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)};function jb(a,b){b=String(b);a.contentType==="application/xhtml+xml"&&(b=b.toLowerCase());return a.createElement(b)}function kb(a){this.g=a||u.document||document};function lb(a){a=a===void 0?document:a;return a.createElement("script")};function mb(a,b,c,d,e,f){try{var g=a.g,h=lb(g);h.async=!0;hb(h,b);g.head.appendChild(h);h.addEventListener("load",function(){e();d&&g.head.removeChild(h)});h.addEventListener("error",function(){c>0?mb(a,b,c-1,d,e,f):(d&&g.head.removeChild(h),f())})}catch(k){f()}};var nb=u.atob("aHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vaW1hZ2VzL2ljb25zL21hdGVyaWFsL3N5c3RlbS8xeC93YXJuaW5nX2FtYmVyXzI0ZHAucG5n"),ob=u.atob("WW91IGFyZSBzZWVpbmcgdGhpcyBtZXNzYWdlIGJlY2F1c2UgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlIGlzIGludGVyZmVyaW5nIHdpdGggdGhpcyBwYWdlLg=="),pb=u.atob("RGlzYWJsZSBhbnkgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlLCB0aGVuIHJlbG9hZCB0aGlzIHBhZ2Uu");function qb(a,b,c){this.i=a;this.u=b;this.o=c;this.g=null;this.j=[];this.m=!1;this.l=new kb(this.i)}
function rb(a){if(a.i.body&&!a.m){var b=function(){sb(a);u.setTimeout(function(){tb(a,3)},50)};mb(a.l,a.u,2,!0,function(){u[a.o]||b()},b);a.m=!0}}
function sb(a){for(var b=W(1,5),c=0;c<b;c++){var d=X(a);a.i.body.appendChild(d);a.j.push(d)}b=X(a);b.style.bottom="0";b.style.left="0";b.style.position="fixed";b.style.width=W(100,110).toString()+"%";b.style.zIndex=W(2147483544,2147483644).toString();b.style.backgroundColor=ub(249,259,242,252,219,229);b.style.boxShadow="0 0 12px #888";b.style.color=ub(0,10,0,10,0,10);b.style.display="flex";b.style.justifyContent="center";b.style.fontFamily="Roboto, Arial";c=X(a);c.style.width=W(80,85).toString()+
"%";c.style.maxWidth=W(750,775).toString()+"px";c.style.margin="24px";c.style.display="flex";c.style.alignItems="flex-start";c.style.justifyContent="center";d=jb(a.l.g,"IMG");d.className=ib();d.src=nb;d.alt="Warning icon";d.style.height="24px";d.style.width="24px";d.style.paddingRight="16px";var e=X(a),f=X(a);f.style.fontWeight="bold";f.textContent=ob;var g=X(a);g.textContent=pb;Y(a,e,f);Y(a,e,g);Y(a,c,d);Y(a,c,e);Y(a,b,c);a.g=b;a.i.body.appendChild(a.g);b=W(1,5);for(c=0;c<b;c++)d=X(a),a.i.body.appendChild(d),
a.j.push(d)}function Y(a,b,c){for(var d=W(1,5),e=0;e<d;e++){var f=X(a);b.appendChild(f)}b.appendChild(c);c=W(1,5);for(d=0;d<c;d++)e=X(a),b.appendChild(e)}function W(a,b){return Math.floor(a+Math.random()*(b-a))}function ub(a,b,c,d,e,f){return"rgb("+W(Math.max(a,0),Math.min(b,255)).toString()+","+W(Math.max(c,0),Math.min(d,255)).toString()+","+W(Math.max(e,0),Math.min(f,255)).toString()+")"}function X(a){a=jb(a.l.g,"DIV");a.className=ib();return a}
function tb(a,b){b<=0||a.g!=null&&a.g.offsetHeight!==0&&a.g.offsetWidth!==0||(vb(a),sb(a),u.setTimeout(function(){tb(a,b-1)},50))}function vb(a){for(var b=n(a.j),c=b.next();!c.done;c=b.next())(c=c.value)&&c.parentNode&&c.parentNode.removeChild(c);a.j=[];(b=a.g)&&b.parentNode&&b.parentNode.removeChild(b);a.g=null};function wb(a,b,c,d,e){function f(k){document.body?g(document.body):k>0?u.setTimeout(function(){f(k-1)},e):b()}function g(k){k.appendChild(h);u.setTimeout(function(){h?(h.offsetHeight!==0&&h.offsetWidth!==0?b():a(),h.parentNode&&h.parentNode.removeChild(h)):a()},d)}var h=xb(c);f(3)}function xb(a){var b=document.createElement("div");b.className=a;b.style.width="1px";b.style.height="1px";b.style.position="absolute";b.style.left="-10000px";b.style.top="-10000px";b.style.zIndex="-10000";return b};function Ya(a){this.h=P(a)}t(Ya,T);function yb(a){this.h=P(a)}t(yb,T);var zb=bb(yb);function Ab(a){if(!a)return null;a=Za(a,4);var b;a===null||a===void 0?b=null:b=fb(a);return b};var Bb=ea([""]),Cb=ea([""]);function Db(a,b){this.m=a;this.o=new kb(a.document);this.g=b;this.j=R(this.g,1);this.u=Ab(Xa(this.g,2))||gb(Bb);this.i=!1;b=Ab(Xa(this.g,13))||gb(Cb);this.l=new qb(a.document,b,R(this.g,12))}Db.prototype.start=function(){Eb(this)};
function Eb(a){Fb(a);mb(a.o,a.u,3,!1,function(){a:{var b=a.j;var c=u.btoa(b);if(c=u[c]){try{var d=db(u.atob(c))}catch(e){b=!1;break a}b=b===Za(d,1)}else b=!1}b?Z(a,R(a.g,14)):(Z(a,R(a.g,8)),rb(a.l))},function(){wb(function(){Z(a,R(a.g,7));rb(a.l)},function(){return Z(a,R(a.g,6))},R(a.g,9),$a(a.g,10),$a(a.g,11))})}function Z(a,b){a.i||(a.i=!0,a=new a.m.XMLHttpRequest,a.open("GET",b,!0),a.send())}function Fb(a){var b=u.btoa(a.j);a.m[b]&&Z(a,R(a.g,5))};(function(a,b){u[a]=function(){var c=ma.apply(0,arguments);u[a]=function(){};b.call.apply(b,[null].concat(c instanceof Array?c:fa(n(c))))}})("__h82AlnkH6D91__",function(a){typeof window.atob==="function"&&(new Db(window,zb(window.atob(a)))).start()});}).call(this);

window.__h82AlnkH6D91__("WyJwdWItMjcxOTI5NTc5NDU3MzE1OCIsW251bGwsbnVsbCxudWxsLCJodHRwczovL2Z1bmRpbmdjaG9pY2VzbWVzc2FnZXMuZ29vZ2xlLmNvbS9iL3B1Yi0yNzE5Mjk1Nzk0NTczMTU4Il0sbnVsbCxudWxsLCJodHRwczovL2Z1bmRpbmdjaG9pY2VzbWVzc2FnZXMuZ29vZ2xlLmNvbS9lbC9BR1NLV3hWSi1nZVM5dV9udEQzQW8tNUhGOTlnbmktdC1XNzJpUW9nMlNzRGR6NHQ5ZnU4eng1aTVHOUk3MVk5QmxaRWhmS1RYT184Snd3MlppRTdXa0ZISzN1XzRRXHUwMDNkXHUwMDNkP3RlXHUwMDNkVE9LRU5fRVhQT1NFRCIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFhDbW5DaFcwb3pQcDlPWGhrR3BHb3ZEeDc1a3dxR0F5b3B3UGFwN1NMd3U2bDFON0lYQlpnSFRUbG10ajdhTzdPSVMwOTUyU2dzdFlCRnItN2Izdlc4NVFcdTAwM2RcdTAwM2Q/YWJcdTAwM2QxXHUwMDI2c2JmXHUwMDNkMSIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFZyTWFEa0VVczhfc1JqMEJXZ2gtVGN3LTdVM2JaNVd2ajJwVmdPbkQ4bnlmckt0eEtjb3p1d1FIMDFXbVNQUjlfNWF4cGY1V2FjQ3Q1NXlhZkYycS1PMVFcdTAwM2RcdTAwM2Q/YWJcdTAwM2QyXHUwMDI2c2JmXHUwMDNkMSIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFZ2ZDUwTlBMamdLLXVCbHNxLXNEd2Z3VlFTV1piY1kxbXNlMlJ2SE1CMnBEbmFEV3paWDVPaUktU2k2Yzdtc2U2SUpFTWxJWFlaelFEVl83Znd6VENRMkFcdTAwM2RcdTAwM2Q/c2JmXHUwMDNkMiIsImRpdi1ncHQtYWQiLDIwLDEwMCwiY0hWaUxUSTNNVGt5T1RVM09UUTFOek14TlRnXHUwMDNkIixbbnVsbCxudWxsLG51bGwsImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tLzBlbW4vZi9wL3B1Yi0yNzE5Mjk1Nzk0NTczMTU4LmpzP3VzcXBcdTAwM2RDQWsiXSwiaHR0cHM6Ly9mdW5kaW5nY2hvaWNlc21lc3NhZ2VzLmdvb2dsZS5jb20vZWwvQUdTS1d4Vzlya2QxYWJRT3M2TnQ5Z2dKQWVIR21TLXlNQlhsODFtM1o3azNOcExkWmlMUWdLUElBaXpRQmoxNlRTRktZV09ESG1IdkdwQy1hdjRZUHg2YkRBSVFvZ1x1MDAzZFx1MDAzZCJd");</script>
<body>
  <header id="header">
    <div class="container nav-container">
      <a href="index.html" class="logo">
        <img src="/assets/img/logo.png" alt="TeleBot Host Logo">
        TeleBot Host
      </a>
      <nav class="nav-links">
        <a href="/" class="nav-link">Home</a>
      </nav>
    </div>
  </header>
 <section class="docs">

    <h2 class="section-title">TBL Language Reference</h2>
    <p class="section-subtitle">Full reference guide for TBL (Tele Bot Lang)</p>

    <div class="doc-content">

      <!-- 1. Introduction -->
      <h2 id="intro">Introduction</h2>
      <p><b>TBL (Tele Bot Lang)</b> is a lightweight scripting language designed specifically for Telegram bot development.  
      It provides a JavaScript-inspired syntax with built-in functions for rapid bot creation, without the overhead of external dependencies.</p>

      <h3>Key Features</h3>
      <ul>
        <li>Simplified command-based structure</li>
        <li>Predefined variables for user, chat, and message context</li>
        <li>Built-in API methods for sending messages, keyboards, and inline responses</li>
        <li>Support for HTTP requests, global variables, and modular extensions</li>
        <li>Support both synchronous and asynchronous execution, with 80% sync and 20% aync behaviour where <code>await</code>, <code>Promise</code> are valid</li>
      </ul>

      <div class="alert info">
        <i class="fas fa-info-circle"></i>
        <div>TBL scripts are <b>command-based</b>, meaning they respond to specific triggers instead of listening for events.</div>
      </div>

      <!-- 2. Getting Started -->
      <h2 id="getting-started">Getting Started</h2>
      <p>This section explains the basic steps to create and test your first Telegram bot using TBL.</p>

      <h3>Step 1: Create a Telegram Bot</h3>
      <ol>
        <li>Open Telegram and search for <a href="https://t.me/BotFather" target="_blank">@BotFather</a>.</li>
        <li>Send <code>/newbot</code> to create a new bot.</li>
        <li>Choose a name and a username (must end with <code>bot</code>).</li>
        <li>Copy the generated bot token.</li>
      </ol>

      <div class="code-container">
        <pre><code class="language-javascript">const botToken = "123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ";</code></pre>
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      </div>

      <h3>Step 2: Register on TBL Platform</h3>
      <ol>
        <li>Log into the TBL platform.</li>
        <li>Click "Create New Bot".</li>
        <li>Enter the bot name and paste the token from BotFather.</li>
        <li>Click "Create" to initialize your bot.</li>
      </ol>

      <h3>Step 3: Add Basic Commands</h3>
      <p>Create a <code>/start</code> command for user onboarding:</p>
      <div class="code-container">
        <pre><code class="language-javascript">Bot.sendMessage("Hello " + user.first_name + "! Welcome to my bot.")</code></pre>
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      </div>

      <p>Example: <code>/help</code> command:</p>
      <div class="code-container">
        <pre><code class="language-javascript">
Bot.sendMessage("Available commands:\n/start - Start bot\n/help - Show help")</code></pre>
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      </div>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-fb+5w+4e-db+86"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8786409519"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- What's New -->
<h2 id="whats-new">What's New in TBL</h2>
<p>The latest TBL update introduces <b>major new features</b> for developers, giving more control, flexibility, and integration possibilities.  
Here’s a breakdown of everything new:</p>

<h3> 1. Webhook Support</h3>
<p>TBL now supports <b><a href="#class-webhook">Webhook</a> mode</b>. You can call bot commands directly using HTTP requests — perfect for building websites, dashboards, or automation tools that interact with your bot in real-time.</p>

<h3> 2. New <code>Bot.read()</code> Method</h3>
<p>A new method <code>Bot.read("/command")</code> allows you to <b>read another command’s source code</b> as a string.  
It’s ideal for dynamic command management, code previews, or admin tools.</p>
<div class="code-container">
  <pre><code class="language-javascript">// Example usage
let code = Bot.read("/start")
Bot.sendMessage("Here's the code for /start:\n" + code)</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
<p><b>Use case:</b> Create AI code analyzers, AI chatbot or documentation systems inside your bot.</p>

<h3> 3. Buffer Support</h3>
<p>TBL’s sandbox now supports the safe version of Node.js’s <b><a href="https://www.w3schools.com/nodejs/nodejs_buffer.asp">Buffer</a></b> class.  
You can process binary data, files, and base64 strings directly in your commands.</p>
<div class="code-container">
  <pre><code class="language-javascript">// Example
let buf = Buffer.from("TBL Rocks!")
Bot.sendMessage("Buffer length: " + buf.length)</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
<p><b>Use case:</b> Work with files, encodings, and binary data safely inside the TBL VM.</p>

<h3>4. Improved <code>Bot.runCommand()</code></h3>
<p><code>Bot.runCommand()</code> has been improved — it now runs inside <b>any update type</b> (messages, callbacks, inline queries, webhooks, etc.).  
Previously, it only worked with message updates.</p>
<div class="code-container">
  <pre><code class="language-javascript">// Works everywhere now
Bot.runCommand("/start")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
<p><b>Use case:</b> Trigger other commands programmatically — regardless of where the update originated.</p>

<h3> 5. Dynamic Command Handlers</h3>
<p>TBL now supports <b><a href="#cmd-dynamic">Dynamic Commands</a></b> — allowing any <code>update type</code> to have its own handler in the form <code>/handle_{type}</code>.  
For example, when a user joins a group, TBL automatically runs <code>/handle_new_chat_member</code> if it exists.</p>
<div class="code-container">
  <pre><code class="language-javascript">/*Command: /handle_new_chat_member*/
Bot.sendMessage("👋 Welcome " + user.first_name + "!")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
<p>This applies to all non-message updates like <b>chat_member</b>, <b>poll_answer</b>, <b>message_reaction</b>, etc.</p>
<ul>
  <li><code>/handle_chat_member</code> → runs when user status changes</li>
  <li><code>/handle_poll_answer</code> → runs on poll responses</li>
  <li><code>/handle_message_reaction</code> → runs on new reactions</li>
  <li><code>/handle_chat_boost</code> → runs on chat boost updates</li>
</ul>
<p><b>Special Commands</b> like <code>/inline_query</code> and <code>/channel_update</code> are still supported and prioritized.</p>

<h3> Summary</h3>
<ul>
  <li><b>Webhook:</b> Trigger commands via HTTP requests.</li>
  <li><b>Bot.read():</b> Read another command’s source code.</li>
  <li><b>Buffer:</b> Safe support for Node.js Buffer class.</li>
  <li><b>Bot.runCommand():</b> Works in all update types.</li>
  <li><b>Dynamic Commands:</b> Handle any Telegram update using <code>/handle_{type}</code> pattern.</li>
</ul>


<!-- 3. Command Structure -->
<h2 id="commands">Command Structure</h2>
<p>Commands are the <b>core building blocks</b> of TBL. Instead of using event listeners like <code>bot.on()</code>, TBL follows a <b>command-driven model</b>.
  Each command acts like a rule: when the trigger matches, the bot runs its script.</p>

<h3 id="cmd-anatomy">Anatomy of a Command</h3>
<p>A command can include these parts:</p>
<ul>
  <li><b>Command Name</b> → the trigger (e.g. <code>/start</code>, <code>hi</code>, <code>/help</code>)</li>
  <li><b>Answer</b> → a quick static reply before running any code (supports Markdown)</li>
  <li><b>Code Block</b> → logic written in TBL’s JavaScript-like syntax</li>
  <li><b>Keyboard</b> → optional buttons for easy replies</li>
  <li><b>Aliases</b> → alternative triggers for the same command</li>
  <li><b>Need Reply</b> → makes the bot wait for the next user input</li>
</ul>

<h3 id="cmd-example">Example Command</h3>
<ul>
  <li><b>command:</b> <code>/start</code></li>
  <li><b>answer:</b> <code>Welcome! Choose an option:</code></li>
  <li><b>keyboard:</b> <code>Help, About\nContact</code></li>
</ul>
<div class="code-container">
  <pre><code class="language-javascript">Bot.sendMessage("Hello " + user.first_name + "!")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
<p>In this example:</p>
<ul>
  <li><b>Command</b>: <code>/start</code> triggers the command</li>
  <li><b>Answer</b>: bot instantly replies with "Welcome! Choose an option:"</li>
  <li><b>Keyboard</b>: provides 2 rows of buttons → [Help, About] and [Contact]</li>
  <li><b>Code</b>: sends a personalized message using the user’s first name</li>
</ul>

<h3 id="cmd-answer">Answer</h3>
<p>Answers are quick static messages. They appear <b>before</b> any code runs.</p>
<div class="code-container">
  <pre><code class="language-javascript">/*Command: /help
answer: I can do these things:
- /start → Start the bot
- /about → Info about me*/
Bot.sendMessage("Extra help details...")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="cmd-needreply">Need Reply</h3>
<p>If <code>need_reply</code> is set to <code>true</code>, the bot waits for the next user message before continuing.</p>
<div class="code-container">
  <pre><code class="language-javascript">/*command: /ask
answer: What is your favorite color?
need_reply: true*/
Bot.sendMessage("You answered: " + message)</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="cmd-aliases">Aliases</h3>
<p>Aliases let one command have multiple triggers.</p>
<div class="code-container">
  <pre><code class="language-javascript">/*Command: /hello
aliases: hi, hey, hola*/
Bot.sendMessage("Hello there!")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="cmd-keyboard">Keyboards</h3>
<p>Commands can show custom keyboards:</p>
<ul>
  <li><b>Same row</b>: use commas → <code>Yes,No</code></li>
  <li><b>New row</b>: use <code>\n</code> → <code>Yes\nNo</code></li>
</ul>
<div class="code-container">
  <pre><code class="language-javascript">/*Command: /menu
answer: Choose an option:
keyboard: Yes,No\nMaybe*/
Bot.sendMessage("Waiting for your choice...")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="special-commands">Special Commands</h3>
<p>TBL provides special system-level commands:</p>
<ul>
  <li><b>@</b> → Initialization (runs before any other command)</li>
  <li><b>!</b> → Error handler (catches runtime errors)</li>
  <li><b>@@</b> → Post-processing (runs after every command)</li>
  <li><b>*</b> → Wildcard (fallback when no command matches; master handler for all update types)</li>
  <li><b>/inline_query</b> → Handles inline queries if defined; otherwise handled by <code>*</code></li>
  <li><b>/channel_update</b> → Handles channel updates if defined; otherwise handled by <code>*</code></li>
</ul>

<h3 id="cmd-dynamic">Dynamic Update Handlers</h3>
<p>TBL now supports <b>dynamic command handlers</b> for every Telegram update type.</p>
<p>Any update (other than messages) can be handled automatically by creating a command following this pattern:</p>
<div class="alert info">
  <i class="fas fa-bolt"></i>
  <div><code>/handle_{update_type}</code> → will be executed for that specific update type.</div>
</div>

<p>For example:</p>
<div class="code-container">
  <pre><code class="language-javascript">/*Command: /handle_chat_member*/
Bot.sendMessage("A chat member update occurred!")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<p>This feature works for all update types listed in the <a href="https://core.telegram.org/bots/api#update">Telegram Bot API</a>, including:</p>
<ul>
  <li><code>my_chat_member</code></li>
  <li><code>chat_member</code></li>
  <li><code>chat_join_request</code></li>
  <li><code>business_message</code></li>
  <li><code>edited_business_message</code></li>
  <li><code>poll</code></li>
  <li><code>poll_answer</code></li>
  <li><code>message_reaction</code></li>
  <li><code>message_reaction_count</code></li>
  <li><code>chat_boost</code></li>
  <li><code>removed_chat_boost</code></li>
  <li>...and all other Telegram update types</li>
</ul>

<p>If a <code>/handle_{update_type}</code> command is not defined, the update will fall back to <code>/channel_update</code> (for channel-related updates) or <code>*</code> as a universal fallback.</p>

<h3 id="cmd-inline">/inline_query</h3>
<p>Handles inline mode queries (when users type <code>@yourbot query</code> in Telegram).</p>
<div class="code-container">
  <pre><code class="language-javascript">Command: /inline_query
Bot.sendMessage("You searched: " + request.query)</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="cmd-channel">/channel_update</h3>
<p>Handles channel posts automatically.</p>
<div class="code-container">
  <pre><code class="language-javascript">Command: /channel_update
Bot.sendMessage("New channel post received!")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="cmd-best">Best Practices</h3>
<ul>
  <li>Use <b>clear names</b> → <code>/buy_ticket</code>, not <code>/cmd69</code></li>
  <li>Use <b>aliases</b> for multiple triggers or languages</li>
  <li>Always define <b>!</b> to avoid silent errors</li>
  <li>Keep commands <b>modular</b> (one task per command)</li>
  <li>Use <code>/handle_{type}</code> for any special update type</li>
  <li>Test async code carefully, especially with <code>await</code></li>
</ul>
<div class="alert warning">
  <i class="fas fa-exclamation-triangle"></i>
  <div>Always define a <b>!</b> command to capture and handle runtime errors.</div>
</div>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8142878854"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Global Predefined Values -->
<h2 id="globals">Global Predefined Values</h2>
<p>TBL provides a set of <b>predefined global variables</b>. These are available in every command, so you don’t need to declare them manually. They make it easier to work with Telegram updates, users, chats, and the bot itself.</p>

<h3 id="update">update</h3>
<p>The raw Telegram update object. Contains everything Telegram sends (messages, edits, queries, etc.).</p>
<div class="code-container">
<pre><code class="language-json">
{
  "update_id": 109608973,
  "message": {
    "message_id": 17261,
    "from": {
      "id": 5723455420,
      "is_bot": false,
      "first_name": "Soumyadeep ∞",
      "username": "soumyadeepdas765",
      "language_code": "en",
      "is_premium": true
    },
    "chat": {
      "id": 5723455420,
      "first_name": "Soumyadeep ∞",
      "username": "soumyadeepdas765",
      "type": "private"
    },
    "date": 1758100437,
    "text": "/start",
    "entities": [
      {
        "offset": 0,
        "length": 6,
        "type": "bot_command"
      }
    ]
  }
}
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="request">request</h3>
<p>Simplified version of <code>update</code>. TBL automatically detects the type of update. like when the update type is <code>message</code> then request will be <code>update.message</code></p>
<p>And in Webhook <b>request</b> object contains info like ip, body, params, header etc..</p>

<h3 id="message">message</h3>
<p>Contains only the text of a message (if applicable).</p>
<div class="code-container">
  <pre><code class="language-json">"Hello bot"</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="user">user</h3>
<p>Information about the user interacting with the bot.</p>
<div class="code-container">
<pre><code class="language-json">
{
  "id": 5723455420,
  "is_bot": false,
  "first_name": "Soumyadeep ∞",
  "username": "soumyadeepdas765",
  "language_code": "en",
  "is_premium": true,
  "last_name": "",
  "telegramid": 5723455420,
  "premium": true,
  "blocked": false,
  "block_reason": null,
  "blocked_at": null
}
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="chat">chat</h3>
<p>Details about the current chat (private, group, or channel).</p>
<div class="code-container">
<pre><code class="language-json">
{
  "id": 5723455420,
  "first_name": "Soumyadeep ∞",
  "username": "soumyadeepdas765",
  "type": "private",
  "chatid": 5723455420,
  "chatId": 5723455420,
  "blocked": false,
  "block_reason": null,
  "blocked_at": null
}
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="bot">bot</h3>
<p>Information about the bot including owner, status, and platform info.</p>
<div class="code-container">
  <pre><code class="language-json">
{
  "id": 42, // bot id in our platform , a unique identifier for each bot
  "token": "123456:ABC...",
  "name": "DemoBot",
  "bot_id": 987654321, // Bot actual Telegram id
  "owner": "somemail@telebothost.com",//bot owner mail
  "status": "working",
  "created_at": "2025-01-01",
  "updated_at": "2025-01-10",
  "_securityNote": "All bot tokens are securely encrypted in storage and during transmission.",
  "_fairUseNote": "Usage must comply with policies. Harmful or unfair use may result in a ban."
}
  </code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="params">params</h3>
<p>Extra text after a command. Example: "/start hello" → <code>params = "hello"</code>.</p>
<div class="code-container">
  <pre><code class="language-json">"hello"</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="options">options</h3>
<p>Custom data passed between commands when chaining or using API callbacks.</p>
<div class="code-container">
  <pre><code class="language-json">
//passing custom 
{
  "name": "Alice",
  "step": 2
}

//when callback of Telegram Api call 
{
  "ok": true,
  "result": {...}
}
  </code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="content">content</h3>
<p>Contains the response body from an HTTP request.

<h3 id="inspect">inspect()</h3>
<p>Helper function to print any object for debugging.</p>
<p>like if you did <code>inspect(data)</code> it will return bot <a href="#bot">Details</a></p>

<h3 id="msg">msg</h3>
<p><code>msg</code> is a simplified version of <code>update</code>. It’s only available for <code>message</code> updates.</p>
<p>Whenever a message update is received, <code>msg</code> will contain the same object as <code>update.message</code>.</p>

<h3 id="error">error</h3>
<p>It's a object that gives information about error got by ! command</p>
<!-- Global Classes -->
<h2 id="classes">Global Classes</h2>
<p>
  TBL provides several predefined classes. These classes give you direct access
  to Telegram features, user data, and external utilities.
  The most important one is <code>Api</code>, which works as a direct wrapper
  for the official <a href="https://core.telegram.org/bots/api" target="_blank">Telegram Bot API</a>.
</p>

<h3 id="class-api">Api</h3>
<p>
  The <code>Api</code> class lets you call any Telegram method.
  You can use it directly, with callbacks, async/await, or with chained message methods.
</p>

<div class="alert info">
  <i class="fas fa-info-circle"></i>
  <div>Api methods are case <b>insensitive</b>. You can use both <code>sendMessage</code> or <code>sendmessage</code>.</div>
</div>

<h4 id="api-simple">1. Simple Usage</h4>
<p>
  The simplest way to use <code>Api</code> is to call a method directly.
  No <code>await</code> is needed. The message will be sent in the background.
</p>

<div class="code-container">
  <pre><code class="language-javascript">
// Send a simple message
Api.sendMessage({ text: "Hello user!" })

// Send a photo
Api.sendPhoto({ photo: "https://example.com/cat.jpg", caption: "Cute cat" })
  </code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="api-onrun">2. Using <code>on_run</code> Callback</h4>
<p>
  You can pass <code>on_run</code> to any Api call to run another command when the call finishes.
  Useful if you want to continue logic in a separate command.
</p>

<div class="code-container">
  <pre><code class="language-javascript">
// Get bot info and continue in another command
Api.getMe({ on_run: "afterGetMe" })

// Inside "afterGetMe" command
if (options.ok) {
  Api.sendMessage({ text: "Bot username: @" + options.result.username })
}
  </code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="api-async">3. Using Async / Await</h4>
<p>
  For sequential logic, you can use <code>async/await</code>.
  This lets you store results in variables and act on them immediately.
</p>

<div class="code-container">
  <pre><code class="language-javascript">
let me = await Api.getMe()
if (me.ok) {
  Api.sendMessage({ text: "My bot id is " + me.result.id })
}

let msg = await Api.sendMessage({ text: "Hello again!" })
Bot.inspect(msg) // Full Telegram response
  </code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="api-chained">4. Chained Methods on Messages</h4>
<p>
  Every message object returned from <code>Bot.sendMessage()</code>, <code>Api.sendMessage</code>, etc. now supports <b>chained methods</b>.
  These let you quickly react, edit, reply, pin, forward, or delete the message.
</p>

<div class="code-container">
  <pre><code class="language-javascript">
// Send a message and chain methods
let data = await Api.sendMessage({text: "Hello user!"})
await data.pin()                          // Pin the message
await data.react("👍")                     // Add reaction
await data.editText("Updated text")       // Edit message text
await data.reply("Thanks for replying")   // Reply to message

  </code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4>Supported Chained Methods</h4>
<ul>
  <li>editText(text, opts = {})</li>
  <li>editCaption(caption, opts = {})</li>
  <li>editMedia(media, opts = {})</li>
  <li>editReplyMarkup(rm, opts = {})</li>
  <li>delete()</li>
  <li>pin(dn = false)</li>
  <li>unpin()</li>
  <li>react(emoji, big = false)</li>
  <li>forward(to, opts = {})</li>
  <li>copy(to, opts = {})</li>
  <li>reply(text, opts = {})</li>
  <li>replyPhoto(photo, opts = {})</li>
  <li>replyVideo(video, opts = {})</li>
  <li>replyAudio(audio, opts = {})</li>
  <li>replyVoice(voice, opts = {})</li>
  <li>replyDocument(doc, opts = {})</li>
  <li>replySticker(sticker, opts = {})</li>
  <li>replyAnimation(anim, opts = {})</li>
  <li>replyLocation(lat, lon, opts = {})</li>
  <li>replyContact(phone, fn, opts = {})</li>
  <li>replyPoll(q, options, opts = {})</li>
  <li>replyDice(emoji="", opts = {})</li>
  <li>get()</li>
  <li>getChat()</li>
  <li>getChatMember(uid)</li>
  <li>downloadFile()</li>
  <li>editLiveLocation(lat, lon, opts = {})</li>
  <li>stopLiveLocation(opts = {})</li>
  <li>stopPoll(opts = {})</li>
</ul>


<!-- Bot Class -->
<h2 id="class-bot">Bot Class</h2>
<p>
  The <b>Bot</b> class is used for controlling your bot directly.
  It provides methods for running commands, sending messages, and managing persistent bot-level properties.
  Unlike <code>Api</code>, the <code>Bot</code> methods are designed to be easier to use inside commands.
</p>

<h3 id="bot-methods">Available Methods</h3>
<p>The following methods are available in the <b>Bot</b> class:</p>
<ul>
  <li>runCommand</li>
  <li>run</li>
  <li>sendMessage</li>
  <li>sendKeyboard</li>
  <li>sendDocument</li>
  <li>sendPhoto</li>
  <li>sendAudio</li>
  <li>sendVideo</li>
  <li>sendVoice</li>
  <li>inspect</li>
  <li>read</li>
  <li>set</li>
  <li>setProp</li>
  <li>setProperty</li>
  <li>get</li>
  <li>getProp</li>
  <li>getProperty</li>
  <li>del</li>
  <li>delProp</li>
  <li>delProperty</li>
  <li>getAll</li>
  <li>getAllProp</li>
  <li>getAllProperty</li>
  <li>delAll</li>
  <li>delAllProp</li>
  <li>delAllProperty</li>
  <li>has</li>
  <li>hasProp</li>
  <li>count</li>
  <li>countProps</li>
  <li>getNames</li>
  <li>getPropNames</li>
</ul>

<div class="alert info">
  <i class="fas fa-info-circle"></i>
  <div>Bot methods are case sensitive, so only strict name allowed like <b>sendMessage</b> and <b>sendmessage</b> are treated as separate methods.</div>
</div>

<h3 id="bot-run">1. Command Execution</h3>
<p>
  You can tell the bot to run another command. This is useful if you want to move the user to a new flow.
  These methods don’t return any value – they just execute the command.
</p>

<div class="code-container">
  <pre><code class="language-javascript">// Run another command
Bot.runCommand("/start")

// Run with options
Bot.runCommand("/start", { key: 111 })
// key is available now in /start and accessible with options.key
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<div class="alert warning">
  <i class="fas fa-exclamation-triangle"></i>
  <div>
    Currently, <b>Bot.run()</b> and <b>Bot.runCommand()</b> errors only throw when awaited.<br>
    Example: <code>await Bot.run("/cmd")</code> will throw, but <code>Bot.run("/cmd")</code> will silently fail.<br>
    This issue will be fixed in future versions.
  </div>
</div>

<h3 id="bot-read">2. Reading Command Code</h3>
<p>
  The <code>Bot.read()</code> method lets you read the <b>raw code</b> of another command as a string.
  It does <b>not</b> return any metadata like <code>answer</code>, <code>keyboard</code>, or <code>need_reply</code>.
  Useful for dynamically inspecting or reusing command logic.
</p>

<div class="code-container">
  <pre><code class="language-javascript">// Read the raw code of a command
let code = Bot.read("/start")

// Display or use the command code
Bot.sendMessage(code)
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="bot-send">3. Sending Messages</h3>
<p>
  These methods send messages or media to the current chat.
  They return the <code>Telegram API response</code>.
  Using <code>await</code> is optional – you can wait for the result or just send without waiting.
</p>
<p>With await it's support <a href="#api-chained">Api Chained method</a> too </p>

<div class="code-container">
  <pre><code class="language-javascript">// Send plain text
Bot.sendMessage("Hello user!") 

// Send with HTML formatting
let res = await Bot.sendMessage("Hello <b>friend</b>", { parse_mode: "html" })
Bot.inspect(res) // See the Telegram response

// Send with a keyboard
Bot.sendKeyboard("Choose an option:", "Yes,No")

// Send files
Bot.sendDocument("file.pdf", { caption: "Here is your file" })
Bot.sendPhoto("photo.jpg", { caption: "Nice view!" })
Bot.sendAudio("music.mp3", { performer: "Artist", title: "Track" })
Bot.sendVideo("video.mp4", { caption: "Watch this" })
Bot.sendVoice("voice.ogg")

// Debugging an object
Bot.inspect({ user: "Alice", id: 123 })

//chain example 
let data =await Bot.sendMessage("pinned message")
data.pin()//pin the previous message 
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="bot-props">4. Properties</h3>
<p>
  Bot properties are simple key-value storage.
  They let you save data that belongs to the bot itself (not a specific user).
  All property methods are synchronous, so <code>await</code> is not required.
</p>

<div class="code-container">
  <pre><code class="language-javascript">// Set properties
Bot.set("version", "1.2.3", "String")
Bot.set("config", { apiKey: "xyz" }, "Json")

// Get values
let v = Bot.get("version")   // "1.2.3"
let c = Bot.get("config")    // { apiKey: "xyz" }

// Delete one property
Bot.del("version")

// Get all properties
let all = Bot.getAll()

// Delete all
Bot.delAll()

// Check if a property exists
let has = Bot.has("config")  // true

// Count all properties
let count = Bot.count()      // e.g. 1

// Get all property names
let names = Bot.getNames()   // ["config"]
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4>Supported Property Data Types</h4>
<p>The following data types are supported when storing bot properties:</p>
<ul>
  <li><b>String</b> – Plain text or automatically converted values.</li>
  <li><b>Number</b> – Numeric values (integers or floats).</li>
  <li><b>Boolean</b> – True or false values.</li>
  <li><b>List</b> – Arrays (ordered lists).</li>
  <li><b>Date</b> – Date objects.</li>
  <li><b>Json</b> – Objects or arrays (stored as JSON).</li>
</ul>

<div class="alert info">
  <i class="fas fa-info-circle"></i>
  <div>The <code>type</code> parameter is optional in <b>Bot.set()</b>.
    If not provided, the type is automatically detected.</div>
</div>

<h3 id="bot-prop-alias">5. Property Aliases</h3>
<p>
  All property methods have short aliases.
  They work exactly the same, just different names.
</p>

<div class="code-container">
  <pre><code class="language-javascript">// Setting values
Bot.setProp("theme", "dark", "String")
Bot.setProperty("lang", "en", "String")

// Getting values
Bot.getProp("theme")        // "dark"
Bot.getProperty("lang")     // "en"

// Deleting values
Bot.delProp("theme")
Bot.delProperty("lang")

// Get all / delete all
Bot.getAllProp()
Bot.getAllProperty()
Bot.delAllProp()
Bot.delAllProperty()

// Checking and counting
Bot.hasProp("theme")
Bot.countProps()
Bot.getPropNames()
</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
<!-- HTTP Class -->
<h2 id="class-http">HTTP Class</h2>
<p>
The <b>HTTP</b> class allows your bot to make external API requests (GET, POST, etc.) and handle responses flexibly.  
It supports direct calls with <code>await</code>, chaining commands for success/error handling.
</p>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-fb+5w+4e-db+86"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8786409519"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3 id="http-get">1. GET Requests</h3>
<p>Simple GET request:</p>

<div class="code-container">
<pre><code class="language-js">
// GET request using direct URL
let data = await HTTP.get("https://jsonplaceholder.typicode.com/todos/1")
Bot.inspect(data)
// we will have data.content(raw string ), data.headers, data.cookies, data.data(parsed)
/* Demo data
{
  ok: true,
  status: 200,
  statusText: 'OK',
  content: '{"ok":true,"ping":true}', //content is String
  data: {
    ok: true,
    ping: true
  }, // if it JSON then auto parsed
  headers: {
    'content-type': 'application/json; charset=utf-8'
    ...more
  },
  cookies: []
}
*/
// GET request using object with options
let data2 = await HTTP.get({
  url: "https://jsonplaceholder.typicode.com/todos/2",
  headers: { "Authorization": "Bearer ABC123" }
})
Bot.inspect(data2)
</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="http-post">2. POST Requests</h3>
<p>POST request example:</p>

<div class="code-container">
<pre><code class="language-js">
// POST request
let payload = { name: "Alice", age: 25 }
let response = await HTTP.post({
  url: "https://jsonplaceholder.typicode.com/posts",
  body: payload,
  headers: { "Authorization": "Bearer ABC123" }
})
Bot.inspect(response)
</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="http-callback">3. Success / Error Commands with <code>tbl_options</code></h3>
<p>
You can define commands to run automatically on success or error.  
If <code>error</code> command is missing, the <code>success</code> command will run instead.
</p>

<div class="code-container">
<pre><code class="language-js">
// HTTP GET with success/error commands
HTTP.get({
  url: "https://jsonplaceholder.typicode.com/todos/1",
    success: "onSuccess",
    error: "onError",
    tbl_options: {key : value} //optinal for passing custom values only 
})
// you can get tbl_options on next command like  
tbl_options.key
// "onSuccess" command will receive options = HTTP response
// "onError" command will receive options = HTTP error
// on success you will get content and in error command you will get error 
// error command only run when there an internal error like request failed due to some reasons like 
// wrong url, API have 500 etc...
//
</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<div class="code-container">
<pre><code class="language-js">
// Example success command
/*command: onSuccess*/
Bot.sendMessage("Fetched title: " + content)

// Example error command
/*command: onError*/
Bot.sendMessage("HTTP request failed: " + error.status)
</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="http-advanced">4. Advanced Options</h3>
<ul>
  <li><b>headers</b> – Custom headers</li>
  <li><b>body</b> – Object or data to send in POST requests</li>
  <li><b>query</b> – Object of query parameters for GET requests</li>
  <li><b>timeout</b> – Request timeout in milliseconds</li>
</ul>

<div class="code-container">
<pre><code class="language-js">
// GET with query params and headers, and success/error commands
HTTP.get({
  url: "https://api.example.com/search",
  query: { q: "telebot", limit: 5 },
  headers: { "X-Api-Key": "123ABC" },
  timeout: 5000,
  success: "searchSuccess",
  error: "searchError"
})
</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="http-usage-notes">Usage Notes</h3>
<ul>
  <li>All HTTP methods return <code>response</code> object on callback command: <code>{ ok, status, data or error }</code>.</li>
  <li>You can use <code>await</code> to wait for the response or skip it if not needed.</li>
  <li>If <code>error</code> command is missing, the <code>success</code> command will run instead.</li>
</ul>

<!-- User Class -->
<h2 id="class-user">User Class</h2>
<p>
  The <b>User</b> class is used to store and manage data for each user individually.
  Every user has their own private storage, and these methods let you save, read, and delete that data.
</p>

<h3 id="class-user-basic">1. Basic Operations</h3>
<p>
  Use these methods to save and read single values for the current user.
</p>

<div class="code-container">
  <pre><code class="language-js">
// Save user data
User.set("name", "Alice")
User.set("age", 25, "number")

// Read user data
let name = User.get("name")      // "Alice"
let age = User.getProp("age")    // 25

Bot.sendMessage("Name: " + name + ", Age: " + age)
// → Name: Alice, Age: 25
</code></pre>
</div>

<h3 id="class-user-del">2. Deleting Properties</h3>
<p>
  Remove specific values when you don’t need them anymore.
  If the property doesn’t exist, it just returns <code>null</code> when read.
</p>

<div class="code-container">
  <pre><code class="language-js">
// Delete property
User.del("age")

let age = User.get("age")        // null
Bot.sendMessage("After delete, age = " + age)
// → After delete, age = null
</code></pre>
</div>

<h3 id="class-user-bulk">3. Bulk Operations</h3>
<p>
  You can work with all stored data at once. This is useful to inspect or reset the user’s storage.
</p>

<div class="code-container">
  <pre><code class="language-js">
// Save multiple values
User.set("country", "India")
User.set("verified", true, "boolean")

// Get all user data
let all = User.getAll()
Bot.inspect(all)
// → { "name": "Alice", "country": "India", "verified": true }

// Delete all properties
User.delAll()

let all2 = User.getAll()
Bot.inspect(all2)
// → {}
</code></pre>
</div>

<h3 id="user-check">4. Checking & Counting</h3>
<p>
  Check if data exists, count stored keys, or list property names.
</p>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-fb+5w+4e-db+86"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8786409519"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="code-container">
  <pre><code class="language-js">
// Check if property exists
let hasName = User.has("name")   // true or false

// Count total properties
let total = User.count()         // e.g. 2

// Get property names
let names = User.getNames()      // ["name", "country"]

Bot.inspect({ hasName, total, names })
// → { "hasName": true, "total": 2, "names": ["name", "country"] }
</code></pre>
</div>
<!-- we will add that soon 
<h3 id="user-batch">5. Batch Operations</h3>
<p>
  Fetch multiple values at once instead of calling <code>User.get()</code> many times.
</p>

<div class="code-container">
  <pre><code class="language-js">
// Save multiple values
User.set("theme", "dark")
User.set("lang", "en")

// Get multiple values at once
let data = User.getMultiple(["theme", "lang", "name"])
Bot.inspect(data)
// → { "theme": "dark", "lang": "en", "name": "Alice" }
</code></pre>
</div>
-->
<h3 id="class-user-notes">Notes</h3>
<ul>
  <li>All methods only work for the current user — no other user can access this data.</li>
  <li><code>get</code>, <code>set</code>, and <code>del</code> have multiple aliases (like <code>getProp</code>, <code>getProperty</code>).</li>
  <li>Reading data is <b>synchronous</b> and returns the value directly.</li>
  <li>Saving and deleting are <b>asynchronous</b>, but you don’t need <code>await</code> — they just return <code>undefined</code>.</li>
</ul>

<!-- 🌐 Webhook Class Documentation -->
<h2 id="class-webhook">Webhook</h2>
<p>
  The <code>Webhook</code> class provides secure URL generation and validation for webhook endpoints.
  It helps you create authenticated URLs that can trigger specific commands in your bot —
  either for individual users or globally accessible actions.
</p>

<div class="alert info">
  <i class="fas fa-info-circle"></i>
  <div>
    Webhook URLs are <strong>cryptographically signed</strong> to prevent unauthorized access.
    They can be used for both <em>user-specific</em> and <em>global</em> operations safely.
  </div>
</div>

<h3 id="webhook-types">Webhook Types: Global vs User-Based</h3>

<h4 id="global-webhooks"> Global Webhooks</h4>
<p>
  <strong>Global webhooks</strong> are publicly accessible URLs that don't require user authentication.
  Perfect for actions that are open to all users, such as forms, landing pages, or general public APIs.
</p>
<ul>
  <li>No user ID is included in the URL</li>
  <li>Accessible by anyone with the link</li>
  <li>Ideal for open resources and integrations</li>
  <li>Use the <code>Webhook.getGlobalUrl()</code> method</li>
</ul>

<h4 id="user-webhooks"> User-Based Webhooks</h4>
<p>
  <strong>User-based webhooks</strong> include a cryptographically signed user ID in the URL.
  These URLs are private and can only be used by the associated user.
</p>
<ul>
  <li>Includes user ID in the URL signature</li>
  <li>Accessible only by the intended user</li>
  <li>Ideal for dashboards, profiles, or personalized actions</li>
  <li>Use <code>Webhook.getUrl()</code> or <code>Webhook.getUrlFor()</code></li>
</ul>

<h3 id="webhook-strategies">Usage Strategies</h3>

<h4 id="strategy-global">Strategy 1: Global Webhooks for Public Access</h4>
<p>Use when you need endpoints that anyone can access (no authentication required):</p>
<div class="code-container">
<pre><code class="language-javascript">let publicUrl = Webhook.getGlobalUrl("showLanding", { page: "home" })

let formUrl = Webhook.getGlobalUrl("submitForm", {
  formId: "contact",
  redirect: "https://example.com/thank-you"
})

Api.sendMessage({
  text: `Visit our landing page: ${publicUrl}`
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="strategy-user">Strategy 2: User Webhooks for Personalized Actions</h4>
<p>Use when you need webhooks tied to a specific user, preserving context and identity:</p>
<div class="code-container">
<pre><code class="language-javascript">let dashboardUrl = Webhook.getUrl("showDashboard", { section: "profile" })

let actionUrl = Webhook.getUrlFor({
  user_id: msg.from.id,
  command: "processOrder",
  options: { orderId: 12345, amount: 99.99 }
})

Api.sendMessage({
  text: `Visit your personal dashboard: ${dashboardUrl}`
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="webhook-methods">Webhook Methods</h3>

<h4 id="method-geturl"><code>getUrl(command, options)</code></h4>
<p>Generates a secure user-based webhook URL for the current user.</p>
<div class="code-container">
<pre><code class="language-javascript">let url1 = Webhook.getUrl("showProfile")

let url2 = Webhook.getUrl("processData", {
  action: "update",
  item: "settings"
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="method-geturlfor"><code>getUrlFor({ user_id, command, redirect, options })</code></h4>
<p>Generates a secure user-specific webhook URL, optionally including a redirect URL.</p>
<div class="code-container">
<pre><code class="language-javascript">let url1 = Webhook.getUrlFor({
  command: "login",
  redirect: "https://myapp.com/dashboard"
})

let url2 = Webhook.getUrlFor({
  user_id: 123456789,
  command: "resetPassword",
  options: { token: "abc123" }
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="method-getglobalurl"><code>getGlobalUrl(command, options, redirect)</code></h4>
<p>Creates a globally accessible webhook (no user ID required).</p>
<div class="code-container">
<pre><code class="language-javascript">let apiUrl = Webhook.getGlobalUrl("publicApi", {
  version: "v1",
  endpoint: "status"
})

let formUrl = Webhook.getGlobalUrl(
  "submitContact",
  { form: "support" },
  "https://example.com/thank-you"
)</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="method-validate"><code>validate(botId, command, user_id, options, sig)</code></h4>
<p>Validates a webhook signature to ensure authenticity (used internally by the framework).</p>

<h2 id="class-res">Response Object (<code>res</code>)</h2>
<p>
  The <code>res</code> object allows webhook commands to send structured HTTP responses.
  It supports JSON, HTML, XML, text, redirects, and template rendering with EJS.
</p>

<h3 id="res-methods">Response Methods</h3>

<h4 id="res-set"><code>set(key, value)</code></h4>
<p>Sets HTTP headers on the response object.</p>
<div class="code-container">
<pre><code class="language-javascript">res.set("Content-Type", "application/json")
   .set("X-Custom-Header", "my-value")</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-status"><code>status(code)</code></h4>
<p>Sets the HTTP response status code.</p>
<div class="code-container">
<pre><code class="language-javascript">res.status(200)
res.status(404)
res.status(500)</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-send"><code>send(body)</code></h4>
<p>Sends a response with any content type.</p>
<div class="code-container">
<pre><code class="language-javascript">res.send("Hello World")
res.send({ message: "Success", data: { id: 1 } })
res.status(201).send("Resource created")</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-json"><code>json(obj)</code></h4>
<p>Sends a JSON response with application/json content type.</p>
<div class="code-container">
<pre><code class="language-javascript">res.json({
  status: "success",
  user: user.name,
  data: processedData
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-html"><code>html(content)</code></h4>
<p>Sends an HTML response. Auto-renders EJS templates if tags detected.</p>
<div class="code-container">
<pre><code class="language-javascript">res.html("&lt;h1&gt;Welcome&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;")

res.html(`
  &lt;h1&gt;Welcome &lt;%= user.first_name %&gt;&lt;/h1&gt;
  &lt;p&gt;Your ID: &lt;%= user.id %&gt;&lt;/p&gt;
  &lt;% if (user.premium) { %&gt;
    &lt;div class='premium'&gt;Premium User&lt;/div&gt;
  &lt;% } %&gt;
`)</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-xml"><code>xml(content)</code></h4>
<p>Sends an XML response with application/xml content type.</p>
<div class="code-container">
<pre><code class="language-javascript">res.xml('&lt;?xml version="1.0"?&gt;&lt;response&gt;&lt;status&gt;success&lt;/status&gt;&lt;/response&gt;')</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-text"><code>text(content)</code></h4>
<p>Sends a plain text response. Auto-renders EJS templates if tags detected.</p>
<div class="code-container">
<pre><code class="language-javascript">res.text("This is plain text")

const textTemplate = 'Hello <%= name %>, welcome!'
res.text(textTemplate)</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-redirect"><code>redirect(url)</code></h4>
<p>Redirects the request to a different URL.</p>
<div class="code-container">
<pre><code class="language-javascript">res.redirect("https://example.com/success")
res.redirect("/another-command")</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-render"><code>render(commandPath, options)</code></h4>
<p>Renders another command's code as response with automatic content type detection.</p>
<div class="code-container">
<pre><code class="language-javascript">res.render("user-profile")

res.render("api-data.json", {
  data: { user: { name: "John", age: 30 } }
})

res.render("dashboard.html", {
  data: { 
    user: user,
    stats: userStats,
    params: params 
  }
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-renderejs"><code>renderEJS(template, data)</code></h4>
<p>Renders EJS template with provided data and returns HTML response.</p>
<div class="code-container">
<pre><code class="language-javascript">res.renderEJS(`
  &lt;h1&gt;Welcome &lt;%= user.name %&gt;&lt;/h1&gt;
  &lt;p&gt;Your role: &lt;%= user.role %&gt;&lt;/p&gt;
`, {
  user: { name: "Alice", role: "admin" }
})</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-methodnotfound"><code>methodNotFound(methodName)</code></h4>
<p>Returns 404 error for unsupported methods.</p>
<div class="code-container">
<pre><code class="language-javascript">res.methodNotFound("unknownMethod")</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="res-end"><code>end()</code></h4>
<p>Finalizes the response and returns the result.</p>
<div class="code-container">
<pre><code class="language-javascript">res.status(200).json({ success: true }).end()</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="res-render-details">res.render() In-Depth</h3>

<h4 id="render-content-types">Automatic Content Type Detection</h4>
<p><code>res.render()</code> automatically detects content type from file extension:</p>
<div class="code-container">
<pre><code class="language-javascript">res.render("page.html")           // Content-Type: text/html
res.render("data.json")           // Content-Type: application/json  
res.render("script.js")           // Content-Type: application/javascript
res.render("style.css")           // Content-Type: text/css
res.render("api.xml")             // Content-Type: application/xml
res.render("plain-text")          // Content-Type: text/plain</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="render-data-passing">Data Passing and Template Context</h4>
<p>All template rendering methods have access to multiple data sources:</p>
<div class="code-container">
<pre><code class="language-javascript">// Webhook URL: /webhook/showProfile?section=settings&view=compact

res.render("profile-template.html", {
  data: {
    user: user,                    // Current user object
    profile: userProfile,          // Additional profile data
    preferences: userPrefs         // User preferences
  }
})

// In profile-template.html, you can access:
// - user, profile, preferences from data object
// - params (from URL query string: {section: "settings", view: "compact"})
// - All TBL variables (msg, Api, State, etc.)</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h3 id="res-examples">Practical Examples</h3>

<h4 id="example-api">Example 1: JSON API Endpoint</h4>
<div class="code-container">
<pre><code class="language-javascript">let userData = {
  id: user.id,
  name: user.first_name,
  premium: user.premium || false,
  join_date: user.join_date
}

res.status(200)
   .set("Access-Control-Allow-Origin", "*")
   .json({
     status: "success",
     data: userData,
     timestamp: Date.now()
   })
   .end()</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="example-dashboard">Example 2: User Dashboard with res.render()</h4>
<div class="code-container">
<pre><code class="language-javascript">// Command: dashboard-html (contains HTML template)
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Dashboard - &lt;%= user.first_name %&gt;&lt;/title&gt;
  &lt;style&gt;
    body { font-family: Arial; margin: 40px; }
    .premium { color: gold; }
    .section { margin: 20px 0; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Welcome &lt;%= user.first_name %&gt; &lt;%= user.last_name %&gt;&lt;/h1&gt;
  
  &lt;% if (params.view === "compact") { %&gt;
    &lt;div class="compact-view"&gt;
      &lt;p&gt;Quick Overview&lt;/p&gt;
    &lt;/div&gt;
  &lt;% } else { %&gt;
    &lt;div class="full-view"&gt;
      &lt;div class="section"&gt;
        &lt;h3&gt;Profile&lt;/h3&gt;
        &lt;p&gt;Email: &lt;%= user.email %&gt;&lt;/p&gt;
        &lt;p&gt;Member since: &lt;%= new Date(user.join_date).toLocaleDateString() %&gt;&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;% } %&gt;

  &lt;% if (data.stats) { %&gt;
    &lt;div class="section"&gt;
      &lt;h3&gt;Statistics&lt;/h3&gt;
      &lt;p&gt;Total orders: &lt;%= data.stats.totalOrders %&gt;&lt;/p&gt;
      &lt;p&gt;Account balance: $&lt;%= data.stats.balance %&gt;&lt;/p&gt;
    &lt;/div&gt;
  &lt;% } %&gt;
&lt;/body&gt;
&lt;/html&gt;

// Command: showDashboard (renders the template)
let userStats = {
  totalOrders: 15,
  balance: 245.50
}

res.render("dashboard-html", {
  data: {
    stats: userStats
  }
})

// URL: /webhook/showDashboard?view=compact
// Will render the compact view based on params.view</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="example-render-json">Example 3: Dynamic JSON API with res.render()</h4>
<div class="code-container">
<pre><code class="language-javascript">// Command: user-api.json (contains JSON template)
{
  "status": "success",
  "user": {
    "id": &lt;%= user.id %&gt;,
    "username": "&lt;%= user.first_name %&gt; &lt;%= user.last_name %&gt;",
    "premium": &lt;%= user.premium %&gt;,
    "join_date": "&lt;%= user.join_date %&gt;"
  },
  "request_params": {
    "format": "&lt;%= params.format %&gt;",
    "include_stats": &lt;%= params.include_stats === "true" %&gt;
  },
  "&lt;%= params.include_stats === "true" ? "statistics" : "" %&gt;": &lt;% if (params.include_stats === "true") { %&gt;{
    "total_orders": &lt;%= data.stats.orders %&gt;,
    "success_rate": &lt;%= data.stats.successRate %&gt;
  }&lt;% } else { %&gt;null&lt;% } %&gt;
}

// Command: getUserData (renders the JSON template)
let userStatistics = {
  orders: 42,
  successRate: 95.5
}

res.render("user-api.json", {
  data: {
    stats: userStatistics
  }
})

// URL: /webhook/getUserData?format=detailed&include_stats=true
// Outputs dynamic JSON based on parameters</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="example-webhook-flow">Example 4: Complete Webhook Flow</h4>
<div class="code-container">
<pre><code class="language-javascript">// Command: start - send webhook URL to user
let dashboardUrl = Webhook.getUrl("showDashboard")
Api.sendMessage({
  text: `Click here to access your dashboard: ${dashboardUrl}`,
  parse_mode: "HTML"
})

// Command: showDashboard - render personalized view
if (!user) {
  return res.status(401).json({ error: "User not found" })
}

res.renderEJS(`
  &lt;h1&gt;Dashboard for &lt;%= user.first_name %&gt;&lt;/h1&gt;
  &lt;div&gt;
    &lt;a href="&lt;%= Webhook.getUrl('profile') %&gt;"&gt;Profile&lt;/a&gt; |
    &lt;a href="&lt;%= Webhook.getUrl('settings') %&gt;"&gt;Settings&lt;/a&gt;
  &lt;/div&gt;
  &lt;% if (params.ref === "welcome") { %&gt;
    &lt;div class="welcome-message"&gt;
      Welcome to your new dashboard!
    &lt;/div&gt;
  &lt;% } %&gt;
`)</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<h4 id="example-error-handling">Example 5: Error Handling with res.render()</h4>
<div class="code-container">
<pre><code class="language-javascript">// Command: error-template.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Error &lt;%= data.error.code %&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Error &lt;%= data.error.code %&gt;&lt;/h1&gt;
  &lt;p&gt;&lt;%= data.error.message %&gt;&lt;/p&gt;
  &lt;% if (data.error.details) { %&gt;
    &lt;div class="details"&gt;
      &lt;strong&gt;Details:&lt;/strong&gt;
      &lt;p&gt;&lt;%= data.error.details %&gt;&lt;/p&gt;
    &lt;/div&gt;
  &lt;% } %&gt;
  &lt;a href="&lt;%= Webhook.getUrl('home') %&gt;"&gt;Return to Home&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;

// Command: protectedAction
if (!user || !user.hasAccess) {
  return res.status(403).render("error-template.html", {
    data: {
      error: {
        code: 403,
        message: "Access Denied",
        details: "You don't have permission to access this resource"
      }
    }
  })
}

// Continue with normal processing...</code></pre>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<div class="alert warning">
  <i class="fas fa-exclamation-triangle"></i>
  <div>
    <strong>Security Note:</strong>
    All webhook URLs are digitally signed and protected against tampering.
    Always validate actions on your server, and never rely solely on client-side data.
  </div>
</div>
<h2 id="class-msg">msg Class</h2>
<p>
The <b>msg</b> class lets you interact with Telegram messages.  
You can send, reply, edit, delete, forward, copy, react, and perform chat actions.  
All methods return <b>promises</b>, but using <code>await</code> is <b>optional</b> — only required if you need the response object.
</p>

<h3 id="class-msg-methods">Available Methods</h3>
<ul>
  <li><b>Core Messaging:</b> <code>msg.reply()</code>, <code>msg.send()</code></li>
  <li><b>Media Messages:</b> <code>msg.replyPhoto()</code>, <code>msg.replyVideo()</code>, <code>msg.replyDocument()</code></li>
  <li><b>Message Management:</b> <code>msg.editText()</code>, <code>msg.delete()</code>, <code>msg.react()</code>, <code>msg.pin()</code>, <code>msg.unpin()</code></li>
  <li><b>Forwarding & Copying:</b> <code>msg.forward()</code>, <code>msg.copy()</code></li>
  <li><b>Special Messages:</b> <code>msg.replySticker()</code>, <code>msg.replyDice()</code></li>
  <li><b>Chat Actions:</b> <code>msg.sendChatAction()</code></li>
</ul>

<h3 id="class-msg-core">1. Core Messaging</h3>
<div class="code-container">
<pre><code class="language-js">
// Reply to the current message
msg.reply("Hello!")  // Fire-and-forget
let result = await msg.reply("Hello!"); // Use await if you need the API response

// Send a new message
msg.send("This is a new message")
await msg.send("This is a new message", { parse_mode: "Markdown" })  // await optional
</code></pre>
</div>

<h3 id="class-msg-media">2. Media Messages</h3>
<div class="code-container">
<pre><code class="language-js">
// Reply with a photo
msg.replyPhoto("https://example.com/cat.jpg", { caption: "Cute cat 🐱" })
await msg.replyPhoto("https://example.com/cat.jpg", { caption: "Cute cat 🐱" }) // await optional

// Reply with a video
msg.replyVideo("https://example.com/video.mp4")
await msg.replyVideo("https://example.com/video.mp4", { caption: "Watch this!" })

// Reply with a document
msg.replyDocument("file.pdf")
await msg.replyDocument("file.pdf")
</code></pre>
</div>

<h3 id="class-msg-delete">3. Message Management</h3>
<div class="code-container">
<pre><code class="language-js">
// Edit message text
msg.editText("Updated text")

// Delete message
msg.delete(msg.message_id)
await msg.delete(msg.message_id)

// Add reactions
msg.react("👍")
msg.react("🔥", true) // Big emoji

// Pin & unpin messages only for group or super group with proper admin Rights
msg.pin()
msg.unpin(msg.message_id)
</code></pre>
</div>

<h3 id="class-msg-forward">4. Forwarding & Copying</h3>
<div class="code-container">
<pre><code class="language-js">
// Forward message
msg.forward(123456789)
await msg.forward(123456789)

// Copy message
msg.copy(123456789, { caption: "Copied message" })
await msg.copy(123456789, { caption: "Copied message" })
</code></pre>
</div>

<h3 id="class-msg-special">5. Special Messages</h3>
<div class="code-container">
<pre><code class="language-js">
// Reply with a sticker
msg.replySticker("CAACAgUAAxkBAAECX-9g1...")
await msg.replySticker("CAACAgUAAxkBAAECX-9g1...")

// Reply with a dice
msg.replyDice("🎲")
await msg.replyDice("🎲")
</code></pre>
</div>

<h3 id="class-msg-chat-action">6. Chat Actions</h3>
<div class="code-container">
<pre><code class="language-js">
// Show typing indicator
msg.sendChatAction("typing")
await msg.sendChatAction("typing") // await optional

// Other actions: "upload_photo", "record_video", "record_audio", "upload_document"
</code></pre>
</div>

<h3 id="class-msg-info">7. Message Object Access</h3>
<p>The <b>msg</b> object contains the full Telegram message data:</p>
<ul>
  <li><code>msg.text</code> - Message text</li>
  <li><code>msg.chat</code> - Chat info (id, type, title, etc.)</li>
  <li><code>msg.from</code> - Sender info</li>
  <li><code>msg.message_id</code> - Unique message ID</li>
  <li><code>msg.date</code> - Timestamp</li>
  <li>All other standard Telegram <a href="https://core.telegram.org/bots/api#message">Message</a> fields are available</li>
</ul>

<p>All methods also work in lowercase (e.g., <code>msg.replyphoto</code>).  
Markdown parsing is enabled by default for text methods.</p>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8142878854"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2 id="class-modules">Modules Class</h2>
<p>
  The <b>modules</b> object gives you access to popular Node.js libraries directly in TBL.
  Use <code>modules.moduleName.method()</code> to perform common tasks like encryption, validation, date handling, CSV/YAML parsing, random data generation, and more.
</p>

<h3 id="module-jwt">1. JWT</h3>
<p>
  <b>JWT</b> is used for creating and verifying JSON Web Tokens.
  Useful for authentication, session management, or secure data transfer.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/jsonwebtoken" target="_blank">jsonwebtoken</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Create a token
const token = modules.JWT.sign({ userId: 123 }, "secret");

// Verify a token
const decoded = modules.JWT.verify(token, "secret");

// Demo response:
// token → "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
// decoded → { userId: 123, iat: 1690000000 }
</code></pre>
</div>

<h3 id="module-bcrypt">2. bcrypt</h3>
<p>
  <b>bcrypt</b> hashes passwords and verifies them. Essential for secure password storage.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/bcrypt" target="_blank">bcrypt</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Hash a password
const hash = await modules.bcrypt.hash("password123", 10);

// Verify password
const match = await modules.bcrypt.compare("password123", hash);

// Demo response:
// hash → "$2b$10$e0N...."
// match → true
</code></pre>
</div>

<h3 id="module-crypto">3. crypto</h3>
<p>
  <b>crypto</b> provides cryptographic functions, including hashing, encryption, and decryption.
</p>
<p>Docs: <a href="https://nodejs.org/api/crypto.html" target="_blank">Node.js crypto</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Create SHA256 hash
const hash = modules.crypto.createHash("sha256").update("data").digest("hex");

// Demo response:
// hash → "3a6eb...9f1"
</code></pre>
</div>

<h3 id="module-ParseCSV">4. ParseCSV</h3>
<p>
  Parses CSV strings into JSON objects. Useful for reading CSV files in bots or scripts.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/csv-parse" target="_blank">csv-parse</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Parse CSV string
const result = modules.ParseCSV.parse("name,age\nAlice,25\nBob,30");

// Demo response:
// result → [{ name: "Alice", age: "25" }, { name: "Bob", age: "30" }]
</code></pre>
</div>

<h3 id="module-ParseYML">5. ParseYML</h3>
<p>
  Parses YAML strings into JSON objects. Useful for reading YAML configuration files.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/js-yaml" target="_blank">js-yaml</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Parse YAML string
const result = modules.ParseYML.parse("name: Alice\nage: 25");

// Demo response:
// result → { name: "Alice", age: 25 }
</code></pre>
</div>

<h3 id="module-UUID">6. UUID</h3>
<p>
  Generates unique identifiers (UUID v4 or v6). Useful for unique keys, transaction IDs, or session identifiers.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/uuid" target="_blank">uuid</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Generate v4 UUID
const id = modules.UUID.uuidv4();

// Demo response:
// id → "550e8400-e29b-41d4-a716-446655440000"
</code></pre>
</div>

<h3 id="module-moment">7. moment</h3>
<p>
  A powerful library for date and time manipulation. Format, parse, and calculate dates easily.
</p>
<p>Docs: <a href="https://momentjs.com/" target="_blank">momentjs</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Format current date
const dateStr = modules.moment().format("YYYY-MM-DD");

// Demo response:
// dateStr → "2025-09-19"
</code></pre>
</div>

<h3 id="module-lodash">8. lodash</h3>
<p>
  A utility library for array, object, and function operations. Very handy for filtering, mapping, and transforming data.
</p>
<p>Docs: <a href="https://lodash.com/docs/" target="_blank">lodash</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Filter array
const result = modules.lodash.filter([1,2,3,4], n => n > 2);

// Demo response:
// result → [3,4]
</code></pre>
</div>

<h3 id="module-randomstring">9. randomstring</h3>
<p>
  Generates random alphanumeric strings, useful for temporary passwords, tokens, or unique identifiers.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/randomstring" target="_blank">randomstring</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Generate 10-character random string
const str = modules.randomstring.generate(10);

// Demo response:
// str → "a1b2c3d4e5"
</code></pre>
</div>

<h3 id="module-validator">10. validator</h3>
<p>
  Validates strings like emails, URLs, and other formats.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/validator" target="_blank">validator</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Validate email
const valid = modules.validator.isEmail("test@example.com");

// Demo response:
// valid → true
</code></pre>
</div>

<h3 id="module-chance">11. chance</h3>
<p>
  Generates random data, such as names, addresses, and phone numbers.
</p>
<p>Docs: <a href="https://chancejs.com/" target="_blank">chancejs</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Generate random name
const name = modules.chance.name();

// Demo response:
// name → "Alice Johnson"
</code></pre>
</div>

<h3 id="module-math">12. math</h3>
<p>
  Mathematical functions like square root, powers, trigonometry, etc.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/mathjs" target="_blank">mathjs</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Square root
const val = modules.math.sqrt(25);

// Demo response:
// val → 5
</code></pre>
</div>

<h3 id="module-qs">13. qs</h3>
<p>
  Parses and formats query strings.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/qs" target="_blank">qs</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Parse query string
const obj = modules.qs.parse("a=1&b=2");

// Demo response:
// obj → { a: "1", b: "2" }
</code></pre>
</div>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-fb+5w+4e-db+86"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8786409519"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3 id="module-cheerio">14. cheerio</h3>
<p>
  Parse and manipulate HTML in Node.js (like jQuery). Useful for scraping and DOM manipulation.
</p>
<p>Docs: <a href="https://cheerio.js.org/" target="_blank">cheerio</a></p>
<div class="code-container">
<pre><code class="language-js">
// Load HTML
const $ = modules.cheerio.load("&lt;p&gt;Hello&lt;/p&gt;");
const text = $("p").text();

// Demo response:
// text → "Hello"
</code></pre>
</div>

<h3 id="module-dayjs">15. dayjs</h3>
<p>
  Lightweight alternative to Moment.js for date and time operations.
</p>
<p>Docs: <a href="https://day.js.org/" target="_blank">dayjs</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Format current date
const today = modules.dayjs().format("YYYY-MM-DD");

// Demo response:
// today → "2025-09-19"

//We have our own Basic library for time parsing too
</code></pre>
</div>

<h3 id="module-zod">16. zod</h3>
<p>
  Schema validation library for structured data. Useful for input validation.
</p>
<p>Docs: <a href="https://zod.dev/" target="_blank">zod</a></p>
<div class="code-container">
  <pre><code class="language-js">
// Validate string
const result = modules.zod.string().parse("Hello");

// Demo response:
// result → "Hello"
</code></pre>
</div>

<h3 id="module-shortid">17. shortid</h3>
<p>
Generates short unique IDs for objects, users, or temporary references.  
Useful when you need compact unique identifiers.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/shortid" target="_blank">shortid</a></p>
<div class="code-container">
<pre><code class="language-js">
// Generate short ID
const id = modules.shortid.generate();

// Demo response:
// id → "ppBqWA9"
</code></pre>
</div>

<h3 id="module-deepmerge">18. deepmerge</h3>
<p>
Deeply merges multiple objects. Useful for combining configs or nested data structures.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/deepmerge" target="_blank">deepmerge</a></p>
<div class="code-container">
<pre><code class="language-js">
// Merge two objects
const merged = modules.deepmerge({ a: 1, b: { x: 1 } }, { b: { y: 2 }, c: 3 });

// Demo response:
// merged → { a: 1, b: { x: 1, y: 2 }, c: 3 }
</code></pre>
</div>

<h3 id="module-humanizeDuration">19. humanizeDuration</h3>
<p>
Formats durations (milliseconds) into human-readable strings, like "2 hours" or "5 minutes".
</p>
<p>Docs: <a href="https://www.npmjs.com/package/humanize-duration" target="_blank">humanize-duration</a></p>
<div class="code-container">
<pre><code class="language-js">
// Convert milliseconds to human-readable
const duration = modules.humanizeDuration(3600000);

// Demo response:
// duration → "1 hour"
</code></pre>
</div>

<h3 id="module-uaParser">20. uaParser</h3>
<p>
Parses user-agent strings to extract browser, OS, and device information.  
Useful for analytics, logs, or customizing content.
</p>
<p>Docs: <a href="https://www.npmjs.com/package/ua-parser-js" target="_blank">ua-parser-js</a></p>
<div class="code-container">
<pre><code class="language-js">
// Parse user-agent
const ua = modules.uaParser.parse("Mozilla/5.0 (Windows NT 10.0; Win64; x64)");

// Demo response:
// ua → { browser: { name: "Firefox", version: "xx" }, os: { name: "Windows", version: "10" }, device: { model: "", type: "", vendor: "" } }
</code></pre>
</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8142878854"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- Libs Class -->
<h2 id="class-libs">Libs Class</h2>
<p>
The <b>Libs</b> class gives direct access to TBL’s built-in libraries.  
Each library contains ready-to-use helpers for randomization, date/time operations, resource tracking, referral systems, Telegram utilities, and membership checking.  
Use the syntax <code>Libs.&lt;library&gt;.&lt;method&gt;()</code>.  
Most methods return promises—<code>await</code> is optional unless you need the returned value.
</p>

<h3 id="libs-list">Available Libraries</h3>
<ul>
  <li><b>ResourcesLib</b> – Manage user/global counters, balances, or any persistent value.</li>
  <li><b>dateTimeFormat</b> – Format, add/subtract, and calculate differences between dates.</li>
  <li><b>MCL (Membership Checker Lib)</b> – Check user membership in channels/groups and related tasks.</li>
  <li><b>random</b> – Generate random numbers, strings, colors, dates, and complex distributions.</li>
  <li><b>refLib</b> – Create referral links and track invited users.</li>
  <li><b>tgUtil</b> – Telegram-specific helpers for names, links, mentions, escaping text, etc.</li>
</ul>

<h3 id="libs-resources">1. ResourcesLib</h3>
<div class="code-container">
<pre><code class="language-js">
// Create or get a user resource (e.g., balance)
let coins = Libs.ResourcesLib.userRes("coins")
coins.add(50)                       // add value
let current = coins.value()          // get current value

// Global resource example
let globalCounter = Libs.ResourcesLib.anotherRes("visits")
globalCounter.add(1)
</code></pre>
<p>
Persistent storage for user or global properties.  
<a href="https://github.com/telebothost/tbl-libs/blob/main/Lib-Docs/ResourcesLib.md" target="_blank">Full ResourcesLib Documentation</a>
</p>
</div>

<h3 id="libs-datetime">2. dateTimeFormat</h3>
<div class="code-container">
<pre><code class="language-js">
// Current date/time in custom mask
let now = Libs.dateTimeFormat.getCurrentDate("yyyy-mm-dd HH:MM:ss")

// Add days to a date
let future = Libs.dateTimeFormat.addDays(new Date(), 7)

// Time difference between two dates
let diff = Libs.dateTimeFormat.getTimeDifference("2025-01-01","2025-02-01")
</code></pre>
<p>
Full set of date formatting and calculation utilities.  
<a href="https://github.com/telebothost/tbl-libs/blob/main/Lib-Docs/dateTimeFormat.md" target="_blank">Full dateTimeFormat Documentation</a>
</p>
</div>

<h3 id="libs-mcl">3. MCL – Membership Checker</h3>
<div class="code-container">
<pre><code class="language-js">
// Check if a user is a member of specific channels
let joined = await Libs.mcl.check(user.id, ["@Chan1", "@Chan2"])

/* returns 
{
  all_joined: true,
  valid: [ '@Channel1', '@Channel2' ],
  left: [],
  invalid: [],
  details: [
    {
      channel: '@Channel1',
      member: { /* full getChatMember response */ }
    }
  ]
}
*/

</code></pre>
<p>
Validate user subscriptions across one or more Telegram channels or groups before allowing bot actions.  
<a href="https://github.com/telebothost/tbl-libs/blob/main/Lib-Docs/mcl.md" target="_blank">Full MCL Documentation</a>
</p>
</div>

<h3 id="libs-random">4. random</h3>
<div class="code-container">
<pre><code class="language-js">
// Random integer between 1 and 10
let num = Libs.random.randomInt(1, 10)

// Random string of 8 letters
let str = Libs.random.randomString(8, { charset: "alpha" })

// Random date within range
let date = Libs.random.randomDate(new Date(2023,0,1), new Date(2025,0,1))

// Random color
let color = Libs.random.randomColor("rgb")
</code></pre>
<p>
Comprehensive random generation utilities.  
<a href="https://github.com/telebothost/tbl-libs/blob/main/Lib-Docs/random.md" target="_blank">Full random Documentation</a>
</p>
</div>

<h3 id="libs-ref">5. refLib</h3>
<div class="code-container">
<pre><code class="language-js">
// Create a referral link
let refLink = Libs.refLib.getRefLink(bot.name)

// Count referrals for a user
let count = Libs.refLib.getRefCount(user.id)

</code></pre>
<p>
Tools for building and tracking referral systems.  
<a href="https://github.com/telebothost/tbl-libs/blob/main/Lib-Docs/refLib.md" target="_blank">Full refLib Documentation</a>
</p>
</div>

<h3 id="libs-tgutil">6. tgUtil</h3>
<div class="code-container">
<pre><code class="language-js">
// Get a user’s full name
let fullName = Libs.tgUtil.getFullName(user)

// Create a clickable HTML link to a user profile
let link = Libs.tgUtil.getLinkFor(user, "html")

// Escape text for Markdown
let safeText = Libs.tgUtil.escapeText("*Hello*", "markdown")

// Create an inline button
let btn = Libs.tgUtil.createInlineButton("Press Me", "/callback_data")
</code></pre>
<p>
Telegram-specific helpers for mentions, chat links, message links, and safe text formatting.  
<a href="https://github.com/telebothost/tbl-libs/blob/main/Lib-Docs/tgUtil.md" target="_blank">Full tgUtil Documentation</a>
</p>
</div>

<h3 id="libs-usage">Usage Tips</h3>
<ul>
  <li>All method names are case sensitive.</li>
  <li>Use <code>await</code> only if the lib is asynchronous like MCL lib</li>
  <li>Libraries can be combined in the same command for advanced workflows.</li>
</ul>

<!-- Known Error Behaviors Page -->
<h2 id="current-error">Current Error Behaviors</h2>
<p>
This page describes the current known issues with how errors work in TBL.  
These are temporary behaviors that will be fixed or improved in future updates.
</p>

<h3 id="async-error">1. Bot.run() and Bot.runCommand() Errors</h3>
<p>
Currently, errors inside <code>Bot.run()</code> or <code>Bot.runCommand()</code> only throw when the function is <b>awaited</b>.  
If you call them without <code>await</code>, the error will not be thrown — it will silently fail.
</p>

<div class="code-container">
  <pre><code class="language-javascript">// Only throws when awaited
await Bot.run("/invalid_command")

// This will not throw, error ignored
Bot.run("/invalid_command")</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<p>
This is a known issue and will be fixed so that <code>Bot.run()</code> properly reports errors even when not awaited.
</p>

<h3 id="telegram-api-error">2. Telegram API Errors Are Silent</h3>
<p>
At the moment, Telegram API errors (such as invalid parameters, missing chat IDs, or access errors)  
are <b>silent</b> — they do not throw or stop script execution.  
These errors only appear in the website’s Error Tab logs.
</p>

<div class="code-container">
  <pre><code class="language-javascript">// Example: text can't be empty 
Bot.sendMessage("")

// This error will only appear in Error Tab logs</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<p>
Future updates will make these errors more visible and optionally throwable for better debugging.
</p>

<h3 id="http-error">3. HTTP Errors Are Silent and Unlogged</h3>
<p>
HTTP request errors (network issues, bad URLs, or invalid responses) currently behave silently.  
They are <b>not logged</b> in the dashboard and do not throw exceptions.  
The only indication is through the <code>res.error</code> field returned in the response.
</p>

<div class="code-container">
  <pre><code class="language-javascript">let res = await HTTP.get("https://invalid.url")

if (res.error) {
  Bot.sendMessage("HTTP error: " + res.error)
}</code></pre>
  <button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>

<p>
In the future, these errors will be logged and optionally displayed in the Error Tab for better tracking.
</p>

<h3 id="fix-plan">Planned Fixes</h3>
<ul>
  <li><b>Bot.run() / Bot.runCommand():</b> Will throw properly even without <code>await</code>.</li>
  <li><b>Telegram API Errors:</b> Will include a setting to control whether they throw or stay silent.</li>
  <li><b>HTTP Errors:</b> Will be logged in the dashboard and include better error info in the response.</li>
</ul>

<p>
These changes are planned for the next update to make error handling more predictable and developer-friendly.
</p>

<!-- content will stop here -->
    </div>
</section>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-2719295794573158"
     data-ad-slot="8529358835"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<footer class="footer">
  <div class="footer-links">
    <a href="/privacy">Privacy</a>
    <a href="/terms">Terms</a>
    <a href="/cookies">Cookies</a>
    <a href="/resources">Resources</a>
  </div>
</footer>


<script src="script.js" type="text/javascript" charset="utf-8" defer></script>
</body>
</html>
